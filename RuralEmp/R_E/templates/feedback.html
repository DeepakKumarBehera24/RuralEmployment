{% extends 'base.html' %}
{% load form_filters %}
{% block content %}
<div class="container mt-5" style="color:#FFFBE6;">
    <h2 class="mb-4">We Value Your Feedback</h2>
    <p class="lead mb-4">
        Please fill out the form below to provide us with your feedback. Your thoughts and suggestions are important to us!
    </p>

    <div class="row">
        <div class="col-md-8 offset-md-2">
            <form method="post" style="background-color:#D5ED9F;padding:50px;color:black;border-radius:20px;">
                {% csrf_token %}

                <!-- Name Field -->
                <div class="mb-3">
                    <label for="{{ form.name.id_for_label }}" class="form-label">Name</label>
                    {{ form.name|add_class:"form-control" }}
                </div>

                <!-- Feedback Field -->
                <div class="mb-3">
                    <label for="{{ form.feedback.id_for_label }}" class="form-label">Feedback</label>
                    {{ form.feedback|add_class:"form-control" }}
                </div>

                <!-- Rating Field -->
                <div class="mb-3">
                    <label for="{{ form.rating.id_for_label }}" class="form-label">Rating</label>
                    {{ form.rating|add_class:"form-control" }}
                </div>

                {% if not worker %}
                    <!-- Worker Selection Field (Only if worker is not defined) -->
                    <div class="mb-3">
                        <label for="{{ form.worker.id_for_label }}" class="form-label">Select Worker</label>
                        {{ form.worker|add_class:"form-control" }}
                    </div>
                {% else %}
                    <input type="hidden" name="worker" value="{{ worker.id }}">
                    <p><strong>Worker:</strong> {{ worker.name }}</p>
                {% endif %}

                <button type="submit" class="btn" style="background-color:blue;color:white;border:1px solid yellow;">Submit Feedback</button>
            </form>
        </div>
    </div>
</div>
{% endblock %}
